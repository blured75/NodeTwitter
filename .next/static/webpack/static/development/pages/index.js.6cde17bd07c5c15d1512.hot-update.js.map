{"version":3,"file":"static/webpack/static/development/pages/index.js.6cde17bd07c5c15d1512.hot-update.js","sources":["webpack:///./api/twitter.js"],"sourcesContent":["let hostname\nlet protocol=\"http\"\n  \nif (typeof window === \"undefined\") {\n  if (hostname === undefined) {\n      /*let os = require('os');\n      console.log(`os.hostame() ${os.hostname()}`)\n      hostname = os.hostname()*/\n\n      if (process.env.NODE_ENV == 'production') {\n        hostname=\"mockingbird2.herokuapp.com\"\n        protocol=\"https\"\n      }\n      else {\n        protocol=\"http\"\n        hostname=\"localhost:3000\"\n      }\n  }\n}\nelse {\n  hostname = window.location.hostname + \":\" +  window.location.port\n}\n\n\nclass Twitter {\n  static async getTimeline(id) {\n\n    let res = await fetch(`${protocol}://${hostname}/external/api/timeline/${id}`)\n    let timeline_from_api = await res.json()\n\n    let timeline = timeline_from_api.map(x => {\n      return {profile_image_url: x.user.profile_image_url, description: x.user.description, created_at: x.created_at, text: x.text}\n    })\n\n    return {timeline: timeline}\n  }\n\n  static async search(searched) {\n    // URL Encode searched cause it goes through http\n    searched = encodeURIComponent(searched)\n    // console.log(`searched ${searched}`)\n    let res = await fetch(`${protocol}://${hostname}/external/api/tweets/${searched}`)\n    let tweets_from_api = await res.json()\n\n    let tweets = tweets_from_api.statuses.map(x => {\n      return {screen_name: x.user.screen_name, full_text: x.full_text}\n    })\n\n    return {\n      tweets: tweets\n    }\n  }\n\n\n  static getHostname() {\n    // If this api is called from the browser use the current server name\n    // Else it means it is called by the node server in that case use the server name available in process\n    let hostname\n  \n    if (typeof window === \"undefined\") {\n      if (hostname === undefined) {\n          let os = require('os');\n          console.log(`os.hostame() ${os.hostname()}`)\n          hostname = os.hostname()\n\n          if (process.env.NODE_ENV == 'production') {\n            hostname=\"mockingbird2.herokuapp.com\"\n          }\n          else {\n            hostname=\"localhost:3000\"\n          }\n      }\n    }\n    else {\n      hostname = window.location.hostname\n    }\n    return hostname\n  }\n}\n\n\nexport default Twitter"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAIA,iBAGA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;;;;;;;;;;;;AACA;;;;;;;AAEA;AACA;;AADA;;AACA;AACA;;AADA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;AAEA;;;;;;AACA;AACA;AACA;;AACA;AACA;;AADA;;AACA;AACA;;AADA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AADA;AACA;;;;;;;;;;;;;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA,uBAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;;;;;;AAIA;;;;A","sourceRoot":""}